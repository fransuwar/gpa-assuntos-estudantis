<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
	layout:decorator="base/base" th:with="currentPage='selecao'">

<head>
<title>Cadastro de Seleção</title>
</head>

<section layout:fragment="conteudo">
	<div class="row">
		<!-- Breadcrumb -->
		<div class="col s12 breadcrumbs valign-wrapper">
			<a th:href="@{/}" class="breadcrumb blue-grey-text"> <i
				class="material-icons left">home</i>
			</a> <a class="breadcrumb blue-grey-text">Seleções</a>
		</div>

		<div class="col s12">
			<div class="table-datatables card">
				<div class="card-content" th:if="${#lists.isEmpty(selecoes)}">
					<span class="bold blue-grey-text">Nenhuma seleção cadastrada</span>
				</div>
			</div>

			<div sec:authorize="hasAuthority('COORDENADOR')" class="relative">
				<a th:href="@{/selecao/cadastrar}"
					class="btn-add btn-floating btn-large bottom-right waves-effect waves-light tooltipped"
					th:attr="data-tooltip='Adicionar seleção'"
					th:classappend="${#lists.isEmpty(selecoes)}? self-sampled"> <i
					class="material-icons">add</i>
				</a>
			</div>

			<table th:unless="${#lists.isEmpty(selecoes)}"
				class="datatable table-hover table-card"
				data-filter="#table-filter" data-sort-col="0,1"
				data-sort-direction="desc,asc">

				<thead>
					<tr>
						<th class="hide-on-med-and-down">Ano</th>
						<th>Inscrições</th>
						<th>Vagas</th>
						<th class="hide-on-med-and-down">Responsável</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="selecao:${selecoes}">
						<td class="hide-on-med-and-down" th:text="${selecao.ano}"></td>
						<td th:text="${#dates.format(selecao.dataInicio, 'dd/MM/yyyy')} + ' a ' + ${#dates.format(selecao.dataTermino, 'dd/MM/yyyy')}"></td>
						<td th:text="${selecao.quantidadeVagas}"></td>
						<td class="hide-on-med-and-down limit" data-max-length="30" th:text="${selecao.responsavel.pessoa.nome}"></td>
						<td class="right-align">
							<div class="valign-wrapper right">
								<a class="btn btn-icon waves-effect tooltipped"
								   th:href="@{/selecao/detalhes/__${selecao.id}__}"
								   th:attr="data-tooltip=detalhes">
									<i class="material-icons">zoom_in</i>
								</a>

								<a class="btn btn-icon waves-effect tooltipped"
								   th:href="@{/selecao/editar/__${selecao.id}__}"
								   th:attr="data-tooltip=editar">
									<i class="material-icons">edit</i>
								</a>


								<!-- Remove Button -->
								<a class="btn btn-icon waves-effect tooltipped"
								   th:href="@{/selecao/excluir/__${selecao.id}__}"
								   th:attr="data-tooltip=Excluir"
								   th:classappend="confirm" >
									<i class="material-icons">delete</i>
								</a>
							</div>
						</td>
					</tr>
				</tbody>

			</table>
		</div>
	</div>
</section>
<!-- <table
	layout:fragment="table"
	data-sort-col="0,1" data-sort-direction="desc,asc">

   <thead>
       <tr>
			<th class="hide-on-med-and-down">Ano</th>
			<th>Inscrições</th>
			<th>Vagas</th>
			<th class="hide-on-med-and-down">Responsável</th>

           CABEÇALHO DE OPÇÕES
           <th th:replace="base/base-listar-options :: table-options-header"></th>
       </tr>
   </thead>
   <tbody>

       <tr th:each="selecao:${list}"
       		th:with="
       			editEnabled = true,
	    		editTip = 'Editar',
	    		editLink = @{/selecao/editar/__${selecao.id}__},

	    		seeMoreEnabled = true,
	    		seeMoreTip = 'Detalhes',
	    		seeMoreLink = @{/selecao/detalhes/__${selecao.id}__},

	    		removeEnabled = true,
	    		removeTip = 'Remover',
	    		removeLink = @{/selecao/excluir/__${selecao.id}__},
	    		removeClass = 'confirm',
	    		removeDisabled = !${#lists.isEmpty(selecao.inscricoes)},
	    		removeDisabledTip = 'Esta seleção possui inscrições e não pode ser removida!',
	    		removeConfirmText = 'Deseja remover esta seleção?'

       		">

			<td class="hide-on-med-and-down" th:text="${selecao.ano}"></td>
			<td th:text="${#dates.format(selecao.dataInicio, 'dd/MM/yyyy')} + ' a ' + ${#dates.format(selecao.dataTermino, 'dd/MM/yyyy')}"></td>
			<td th:text="${selecao.quantidadeVagas}"></td>
			<td class="hide-on-med-and-down limit" data-max-length="30" th:text="${selecao.responsavel.pessoa.nome}"></td>

			OPÇÕES (EDITAR, REMOVER E VER MAIS)
			<td th:replace="base/base-listar-options :: table-options-cell"></td>
       	</tr>
	</tbody>

</table> -->

</html>
