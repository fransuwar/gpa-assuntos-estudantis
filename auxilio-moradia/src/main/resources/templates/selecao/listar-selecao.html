<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
	layout:decorator="base/base"
  	th:with="currentPage='selecao'">

<head>
	<title>Auxílio - Listar Seleção</title>
</head>

<section layout:fragment="conteudo">
	<div class="row">
		<div class="col s12">
			<div class="card">
				<div class="card-content">
					<h5 class="title light">Seleções</h5>
					<!-- Nenhuma seleção cadastrada -->
					<span class="boldtable-datatables blue-grey-text" th:if="${#lists.isEmpty(selecoes)}">Nenhuma seleção cadastrada</span>

					<!-- Lista de seleções -->
					<table th:unless="${#lists.isEmpty(selecoes)}">
						<thead>
							<tr>
								<th>Seleção</th>
								<th>Ano</th>
								<th>Inscrições</th>
								<th>Vagas</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="selecao:${selecoes}" th:with="
       			
       			seeMoreEnabled = true,
       			seeMoreTip = 'Ver mais',
       			seeMoreLink = @{/selecao/detalhes/{id}(id=${selecao.id})},
       		
	    		editEnabled = true, 
	    		editTip = 'Editar', 
	    		editLink = @{/selecao/editar/{id}(id=${selecao.id})},
	    		
	    		removeEnabled = true, 
	    		removeTip = 'Remover', 
	    		removeLink = @{#excluir-selecao}, 
	    		removeAtt = @{/selecao/excluir/__${selecao.id}__}, 
       		">
								<td><a th:href="@{/selecao/detalhes/__${selecao.id}__}" th:text="${selecao.tipo.nome}" title="Visualizar"></a></td>
								<td th:text="${selecao.ano}"></td>
								<td th:text="${#temporals.format(selecao.dataInicio, 'dd/MM/yyyy')} + ' a ' + ${#temporals.format(selecao.dataTermino, 'dd/MM/yyyy')}"></td>
								<td th:text="${selecao.quantidadeVagas} ? ${selecao.quantidadeVagas} : 'a definir'">-</td>
								<div sec:authorize="hasAuthority('COORDENADOR')">
									<td th:replace="base/base-listar-options :: table-options-cell"></td>
								</div>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="card-action right-align" sec:authorize="hasAuthority('COORDENADOR')">
					<a class="waves-effect waves-light btn" th:href="@{/selecao/cadastrar}">Nova Seleção</a>
				</div>
			</div>
		</div>
		
	</div>
	<!-- Modal excluir seleção -->
	<div id="excluir-selecao" class="modal">
		<div class="modal-content">
			<h4>Excluir seleção</h4>
			<p>Tem certeza de que deseja excluir essa seleção?</p>
		</div>
		<div class="modal-footer">
			<a id="confirm-excluir" th:href="${removeAtt}" class="modal-action waves-effect waves-light btn red">Excluir</a>
			<a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Cancelar</a>
		</div>
	</div>
</section>
</html>
