<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorator="base/base-listar"
    th:with="
    		currentPage = 'selecao', 
    		
    		list = ${selecoes},
    		emptyListMessage = 'Nenhuma seleção cadastrada!',
    		
    		addEnabled = true, 
    		addTip = 'Adicionar uma selecao', 
    		addLink = @{/selecao/cadastrar/},
    		
    		breadcrumbName = 'Seleção', 
    		filterEnabled = true, 
    		filterName = 'Buscar seleções'" >

<head>
    <title>Seleções</title>
</head>
<<<<<<< HEAD
=======
<body>
	<!-- Page Content -->
	<div class="container" layout:fragment="conteudo">
    	<!-- Content Header (Page header) -->
      <section class="content-header">
        <h1>Seleções</h1>
        <ol class="breadcrumb">
          <li><a th:href="@{/}"><i class="fa fa-home"></i> Início</a></li>
          <li class="active">Seleções</li>
        </ol>
      </section>
      
      <!-- Main content -->
      <section class="content">
        <div class="box box-primary">
          <div class="box-body table-responsive">
          	<div th:if="${#lists.isEmpty(selecoes)}">
          		<div class="alert alert-warning">
	                Não há seleções cadastradas.
              	</div>
          	</div>
          	
          	<table class="table table-hover" th:unless="${#lists.isEmpty(selecoes)}">
          		<thead>
          			<tr>
          				<th>Ano</th>
          				<th>Inscrições</th>
          				<th>Vagas</th>
          				<th>Responsável</th>
          				<th></th>
          			</tr>
          		</thead>
          		<tbody>
          			<tr th:each="selecao : ${selecoes}">
          				<td > <a th:href="@{/selecao/detalhes/__${selecao.id}__}" th:text="${selecao.ano}"></a> </td>
          				<td th:text="${#dates.format(selecao.dataInicio, 'dd/MM/yyyy')} + ' a ' + ${#dates.format(selecao.dataTermino, 'dd/MM/yyyy')}"></td>
          				<td th:text="${selecao.quantidadeVagas}"></td>
          				<td th:text="${selecao.responsavel.pessoa.nome}"></td>
          				<td sec:authorize="hasAuthority('COORDENADOR')"  class="tools text-align-right">
          					<a th:href="@{/selecao/editar/__${selecao.id}__}"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
          					
          					<a data-toggle="modal" data-target="#confirme-delete" href="#" title="Excluir">
								<i class="fa fa-trash-o"></i>
							</a>
													
							<div class="modal fade" id="confirme-delete" tabindex="-1" role="dialog"
								aria-labelledby="myModalLabel" aria-hidden="true">
								<div class="modal-dialog">
									<div class="modal-content" th:unless="${#lists.isEmpty(selecao.inscricoes)}">
										<div class="modal-header">Alerta</div>
										<div class="modal-body">A seleção já possui inscrições!</div>
										<div class="modal-footer">
											<button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
										</div>
									</div>
									
									<div class="modal-content" th:if="${#lists.isEmpty(selecao.inscricoes)}">
										<div class="modal-header">Excluir</div>
										<div class="modal-body">Tem certeza de que deseja excluir essa
											seleção?</div>
											<div class="modal-footer">
											<a th:href="@{/selecao/excluir/__${selecao.id}__}" class="btn btn-danger" >Excluir</a>
											<button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
										</div>
									</div>
								</div>
							</div>
							
          				</td>
          			</tr>
          		</tbody>
          	</table>

          </div>
          <!-- /.box-body -->
        </div>
        <!-- /.box -->
      </section>
	</div>
	
	<section layout:fragment="js">
    	<script th:src="@{/js/auxilio/selecao/selecao.js}"></script>
    </section>
>>>>>>> branch 'master' of https://github.com/npi-ufc-qxd/gpa-assuntos-estudantis.git

<table 
	layout:fragment="table"
	data-sort-col="0,1" data-sort-direction="desc,asc">
	
   <thead>
       <tr>
			<th class="hide-on-med-and-down">Ano</th>
			<th class="hide-on-med-and-down">Inscrições</th>
			<th>Vagas</th>
			<th>Responsável</th>
           
           <!-- CABEÇALHO DE OPÇÕES -->
           <th th:replace="base/base-listar-options :: table-options-header"></th>
       </tr>
   </thead>				 
   <tbody>
       <tr th:each="selecao:${list}"
       		th:with="
       			editEnabled = true, 
	    		editTip = 'Editar', 
	    		editLink = @{/selecao/editar/__${selecao.id}__},
	    		
	    		seeMoreEnabled = true, 
	    		seeMoreTip = 'Detalhes', 
	    		seeMoreLink = @{/selecao/detalhes/__${selecao.id}__}, 
	    		
	    		removeEnabled = true, 
	    		removeTip = 'Remover', 
	    		removeLink = @{/selecao/excluir/__${selecao.id}__},
	    		removeClass = 'confirm'
	    		
       		">
			<td class="hide-on-med-and-down" th:text="${{selecao.ano}}"></td>
			<td class="hide-on-med-and-down" th:text="${{selecao.inscricoes}}"></td>
			<td th:text="${{selecao.quantidadeVagas}}"></td>
			<td th:text="${{selecao.responsavel.pessoa.nome}}"></td>
           <!-- OPÇÕES (EDITAR, REMOVER E VER MAIS) -->
           <td th:replace="base/base-listar-options :: table-options-cell"></td>
       </tr>					        
   </tbody>
</table>

</html>
